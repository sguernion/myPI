commandArray = {}package.path = package.path..";/home/pi/domoticz/scripts/lua/modules/?.lua"require 'Mqtt_class'local Mqtt = Mqtt.createFromConf(uservariables["config_file"])Mqtt:connect('domoticz')d = otherdevicesdevice = ""for i, v in pairs(devicechanged) do  if (#device == 0 or #i < #device) then device = i end  text = v..''  if #text > 0 then  	device = string.gsub(string.gsub(string.gsub(string.gsub(device, '_Utility', ''), '_Temperature', ''), '_Humidity', ''), '_Dewpoint', '')  	typed =string.gsub(string.gsub(i, device, ''), '_', '')  	if #typed > 0 then  		typed = typed  	else  		typed = 'Switch'  	end	json = '{"name:"'..device..'","value":"'..v..'","type":'..typed..'"} '	Mqtt:publish(Mqtt.eventPath, json)	  endendMqtt:destroy()return commandArray